<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Precision Test Studio ‚Äì Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Optional: nice font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #050816;
      --bg-elevated: #0b1020;
      --bg-soft: #11172a;
      --accent: #4fd1c5;
      --accent-soft: rgba(79, 209, 197, 0.08);
      --accent-strong: #2fb3aa;
      --text-main: #f8fafc;
      --text-muted: #9ca3af;
      --border-subtle: #1f2937;
      --danger: #f97373;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.45);
      --transition-fast: 0.15s ease-out;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 55%, #000 100%);
      color: var(--text-main);
      min-height: 100vh;
    }

    .page-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 16px 48px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      gap: 12px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-mark {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: conic-gradient(from 210deg, #22d3ee, #4f46e5, #22c55e, #22d3ee);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 30px rgba(79, 209, 197, 0.5);
    }

    .brand-mark span {
      font-size: 18px;
      font-weight: 700;
      color: #0b1020;
    }

    .brand-text-main {
      font-weight: 600;
      letter-spacing: 0.03em;
      font-size: 18px;
    }

    .brand-text-sub {
      font-size: 12px;
      color: var(--text-muted);
    }

    .hero-tagline {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.24em;
      color: var(--accent);
      margin-bottom: 8px;
    }

    .hero-heading {
      font-size: 26px;
      font-weight: 600;
      letter-spacing: 0.02em;
      margin: 0 0 6px;
    }

    .hero-sub {
      margin: 0;
      font-size: 14px;
      color: var(--text-muted);
      max-width: 540px;
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.4fr);
      gap: 18px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .panel {
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.96), rgba(5, 7, 19, 0.98));
      border-radius: var(--radius-lg);
      padding: 18px 18px 16px;
      border: 1px solid rgba(148, 163, 184, 0.18);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .panel::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top left, rgba(79, 209, 197, 0.12), transparent 60%);
      opacity: 0.6;
      pointer-events: none;
    }

    .panel-inner {
      position: relative;
      z-index: 1;
    }

    .section-label {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .section-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 10px;
    }

    .section-title-row h2 {
      font-size: 16px;
      margin: 0;
      font-weight: 500;
    }

    .step-pill {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .step-pill span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.2);
      font-size: 10px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px 12px;
      margin-bottom: 12px;
    }

    .form-row-full {
      grid-column: 1 / -1;
    }

    label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
      color: #e5e7eb;
      margin-bottom: 3px;
      gap: 4px;
    }

    input,
    select,
    textarea {
      width: 100%;
      background: rgba(15, 23, 42, 0.96);
      border-radius: var(--radius-md);
      border: 1px solid var(--border-subtle);
      padding: 7px 8px;
      font-size: 13px;
      color: var(--text-main);
      outline: none;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), transform var(--transition-fast);
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(79, 209, 197, 0.5);
      background: #020617;
      transform: translateY(-0.5px);
    }

    input::placeholder,
    textarea::placeholder {
      color: #6b7280;
    }

    textarea {
      resize: vertical;
      min-height: 52px;
      max-height: 120px;
    }

    .tooltip {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 10px;
      color: var(--text-muted);
      cursor: help;
      flex-shrink: 0;
    }

    .tooltip-bubble {
      position: absolute;
      left: 50%;
      bottom: 150%;
      transform: translateX(-50%);
      white-space: normal;
      width: 210px;
      background: #020617;
      border-radius: 10px;
      padding: 8px 9px;
      font-size: 11px;
      color: var(--text-main);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.7);
      opacity: 0;
      pointer-events: none;
      border: 1px solid rgba(148, 163, 184, 0.4);
      transition: opacity var(--transition-fast), transform var(--transition-fast);
      z-index: 5;
    }

    .tooltip-bubble::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border-width: 6px;
      border-style: solid;
      border-color: #020617 transparent transparent transparent;
    }

    .tooltip:hover .tooltip-bubble {
      opacity: 1;
      transform: translateX(-50%) translateY(-2px);
    }

    .pill-row {
      display: flex;
      gap: 6px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 8px;
    }

    .pill {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.35);
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    .h-separator {
      border: none;
      border-top: 1px dashed rgba(55, 65, 81, 0.85);
      margin: 10px 0 12px;
    }

    /* Right column / quote + schematic */

    .quote-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 8px;
    }

    .quote-price {
      font-size: 22px;
      font-weight: 600;
    }

    .quote-sub {
      font-size: 11px;
      color: var(--text-muted);
    }

    .badge-soft {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent-strong);
      border: 1px solid rgba(45, 212, 191, 0.35);
    }

    .quote-metadata {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .meta-chip {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(75, 85, 99, 0.8);
      color: var(--text-muted);
      display: inline-flex;
      gap: 4px;
      align-items: center;
    }

    .meta-chip strong {
      color: #e5e7eb;
      font-weight: 500;
    }

    .schematic-card,
    .report-card {
      background: rgba(15, 23, 42, 0.96);
      border-radius: var(--radius-md);
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 10px 10px 8px;
      margin-bottom: 10px;
      position: relative;
      overflow: hidden;
    }

    .schematic-title,
    .report-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .schematic-diagram {
      border-radius: 10px;
      border: 1px dashed rgba(75, 85, 99, 0.95);
      padding: 10px;
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.3fr);
      gap: 8px;
    }

    .schematic-diagram svg {
      width: 100%;
      height: auto;
    }

    .schematic-legend {
      font-size: 11px;
      color: var(--text-muted);
    }

    .schematic-legend p {
      margin: 0 0 4px;
    }

    .schematic-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .legend-pill {
      font-size: 11px;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(55, 65, 81, 0.9);
    }

    .report-body {
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .report-meta-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 4px;
    }

    .report-meta-row span {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 999px;
      padding: 2px 7px;
      border: 1px solid rgba(55, 65, 81, 0.8);
    }

    .report-table {
      margin-top: 6px;
      width: 100%;
      border-collapse: collapse;
      border-radius: 8px;
      overflow: hidden;
    }

    .report-table th,
    .report-table td {
      font-size: 11px;
      padding: 4px 6px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.9);
      text-align: left;
    }

    .report-table th {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
    }

    .report-table tr:last-child td {
      border-bottom: none;
    }

    .demo-banner {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .demo-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #4fd1c5 0, #22c55e 40%, #16a34a 100%);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.7);
    }

    .cta-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      gap: 8px;
    }

    .btn-primary {
      border: none;
      outline: none;
      cursor: pointer;
      padding: 7px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #4ade80);
      color: #052e16;
      font-size: 12px;
      font-weight: 600;
      display: inline-flex;
      gap: 6px;
      align-items: center;
      box-shadow: 0 14px 30px rgba(22, 163, 74, 0.45);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast);
    }

    .btn-primary span.icon {
      font-size: 14px;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      filter: brightness(1.02);
      box-shadow: 0 20px 40px rgba(22, 163, 74, 0.6);
    }

    .btn-ghost {
      font-size: 11px;
      padding: 5px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-muted);
      display: inline-flex;
      gap: 5px;
      align-items: center;
    }

    .btn-ghost span {
      font-size: 13px;
    }

    .warning-note {
      margin-top: 4px;
      font-size: 11px;
      color: #fca5a5;
    }

    .faint-grid-overlay {
      position: absolute;
      inset: 0;
      background-image: linear-gradient(to right, rgba(31, 41, 55, 0.65) 1px, transparent 1px),
                        linear-gradient(to bottom, rgba(31, 41, 55, 0.65) 1px, transparent 1px);
      background-size: 24px 24px;
      opacity: 0.16;
      pointer-events: none;
      z-index: 0;
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <header>
      <div class="brand">
        <div class="brand-mark">
          <span>Œî</span>
        </div>
        <div>
          <div class="brand-text-main">Precision Test Studio</div>
          <div class="brand-text-sub">Send-Cut-Send for space-grade testing ‚Äì concept demo</div>
        </div>
      </div>
    </header>

    <section style="margin-bottom: 14px;">
      <div class="hero-tagline">Interactive Quoting ¬∑ Schematic-Aware ¬∑ MBSE-Ready Outputs</div>
      <h1 class="hero-heading">Configure a test like you‚Äôd configure a part.</h1>
      <p class="hero-sub">
        This demo shows how an engineer could define a test article, pick a test, and see quote, schematic,
        and report preview update instantly ‚Äì before anything ships to the lab.
      </p>
    </section>

    <main>
      <!-- LEFT: configuration -->
      <section class="panel">
        <div class="faint-grid-overlay"></div>
        <div class="panel-inner">
          <div class="section-label">Interactive Demo ¬∑ No backend required</div>
          <div class="section-title-row">
            <h2>1‚Äì3. Article, test & parameters</h2>
            <div class="step-pill">
              <span>1</span>
              Walkthrough
            </div>
          </div>

          <!-- Step hints -->
          <div class="pill-row">
            <div class="pill">
              <div class="pill-dot"></div>
              1. Article & shipping
            </div>
            <div class="pill">
              <div class="pill-dot"></div>
              2. Test selection
            </div>
            <div class="pill">
              <div class="pill-dot"></div>
              3. Parameters & cycles
            </div>
          </div>

          <hr class="h-separator" />

          <!-- 1. Article & shipping -->
          <div class="form-grid">
            <div class="form-row-full">
              <label>
                Shipping address (for label)
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    In the real service, this would feed the carrier API to generate a pre-paid,
                    test-RMA-tagged shipping label to your lab.
                  </span>
                </span>
              </label>
              <textarea id="address" placeholder="e.g. ACME Space Systems, 110 Orbit Way, Suite 300, Denver, CO 80211"></textarea>
            </div>

            <div>
              <label>
                Article length [cm]
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    Used to estimate fixturing envelope, chamber fit, and handling complexity.
                  </span>
                </span>
              </label>
              <input id="len" type="number" min="0" step="0.1" placeholder="25.0" />
            </div>
            <div>
              <label>
                Width [cm]
              </label>
              <input id="wid" type="number" min="0" step="0.1" placeholder="12.5" />
            </div>
            <div>
              <label>
                Height [cm]
              </label>
              <input id="ht" type="number" min="0" step="0.1" placeholder="10.0" />
            </div>
            <div>
              <label>
                Mass [kg]
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    Influences handling time, safety requirements, and in some test regimes, thermal inertia.
                  </span>
                </span>
              </label>
              <input id="mass" type="number" min="0" step="0.1" placeholder="3.2" />
            </div>

            <div class="form-row-full">
              <label>
                Port / fitting definition
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    How we connect: e.g. 1/4&quot; NPT female, Swagelok 6&nbsp;mm tube stub, custom quick-connect, etc.
                    In production, this would drive adapter selection from a fixture library.
                  </span>
                </span>
              </label>
              <input id="fittings" type="text" placeholder='e.g. 2 √ó 1/4" NPT female on one end cap' />
            </div>
          </div>

          <hr class="h-separator" />

          <!-- 2. Test selection -->
          <div class="form-grid">
            <div class="form-row-full">
              <label>
                Test type
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    For the demo: Leak test, Flow characterization, or Thermal-vac soak.
                    In a real deployment you‚Äôd add EMC, vibration, functional tests, and custom campaigns.
                  </span>
                </span>
              </label>
              <select id="testType">
                <option value="">Select a test‚Ä¶</option>
                <option value="leak">Pressure decay leak test</option>
                <option value="flow">Flow vs. ŒîP characterization</option>
                <option value="thermal">Thermal-vac soak / cycling</option>
              </select>
            </div>

            <div>
              <label>
                Fluid / medium
              </label>
              <select id="medium">
                <option value="">Select‚Ä¶</option>
                <option value="nitrogen">N‚ÇÇ (gaseous nitrogen)</option>
                <option value="air">Dry air</option>
                <option value="water">Water (for flow/pressure)</option>
                <option value="other">Other / custom</option>
              </select>
            </div>

            <div>
              <label>
                Sample rate [Hz]
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    Higher sample rates increase data volume and analysis time, but capture more transient behavior.
                  </span>
                </span>
              </label>
              <input id="sampleRate" type="number" min="1" step="1" placeholder="10" />
            </div>

            <div class="form-row-full">
              <label>
                Standards / notes
              </label>
              <input id="standards" type="text" placeholder="e.g. NASA-STD-6016, ECSS-Q-ST-70-02, acceptance vs. qualification" />
            </div>
          </div>

          <hr class="h-separator" />

          <!-- 3. Test parameters -->
          <div class="form-grid">
            <div>
              <label>
                Max pressure [psig]
              </label>
              <input id="maxPressure" type="number" min="0" step="1" placeholder="150" />
            </div>
            <div>
              <label>
                Dwell per cycle [min]
              </label>
              <input id="dwell" type="number" min="0" step="0.1" placeholder="10" />
            </div>
            <div>
              <label>
                Cycles
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    For a simple leak test this might be 1‚Äì3 cycles; for thermal-vac or life testing it could be hundreds.
                  </span>
                </span>
              </label>
              <input id="cycles" type="number" min="1" step="1" placeholder="3" />
            </div>
            <div>
              <label>
                Temp range [¬∞C]
              </label>
              <input id="tempRange" type="text" placeholder="e.g. ‚àí40 to +60 (for thermal-vac)" />
            </div>

            <div class="form-row-full">
              <label>
                Requirements under test (IDs only)
                <span class="tooltip">
                  ?
                  <span class="tooltip-bubble">
                    In production, these IDs map directly to your MBSE model. The exported verification packet
                    would reference them so your system can auto-ingest pass/fail data.
                  </span>
                </span>
              </label>
              <input id="reqIds" type="text" placeholder="REQ-LEAK-001; REQ-PRESSURE-010; REQ-THERMAL-005" />
            </div>
          </div>

          <div class="cta-row">
            <button class="btn-primary" type="button" onclick="window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });">
              <span class="icon">‚ñ∂</span>
              Scroll to quote & preview
            </button>
            <button class="btn-ghost" type="button">
              <span>üëÅ</span> Tooltips explain each field
            </button>
          </div>
          <div class="warning-note">
            All calculations on this page are synthetic ‚Äì this is a front-end concept mock, not a commercial offer.
          </div>
        </div>
      </section>

      <!-- RIGHT: quote, schematic, report preview -->
      <section class="panel">
        <div class="faint-grid-overlay"></div>
        <div class="panel-inner">
          <div class="section-label">Real-time quote ¬∑ Visual schematic ¬∑ Report & MBSE preview</div>
          <div class="quote-header">
            <div>
              <div class="quote-price" id="quotePrice">$‚Äî</div>
              <div class="quote-sub" id="quoteSub">Configure the test to see a live demo quote.</div>
            </div>
            <div class="badge-soft" id="leadTimeBadge">
              Lead time: ‚Äî business days
            </div>
          </div>

          <div class="quote-metadata">
            <div class="meta-chip">
              <strong>Test:</strong>
              <span id="metaTest">None selected</span>
            </div>
            <div class="meta-chip">
              <strong>Envelope:</strong>
              <span id="metaEnvelope">‚Äî</span>
            </div>
            <div class="meta-chip">
              <strong>Medium:</strong>
              <span id="metaMedium">‚Äî</span>
            </div>
            <div class="meta-chip">
              <strong>Payload mass:</strong>
              <span id="metaMass">‚Äî</span>
            </div>
          </div>

          <!-- Schematic -->
          <div class="schematic-card">
            <div class="schematic-title">Test schematic ‚Äì auto-generated concept</div>
            <div class="schematic-diagram">
              <div>
                <!-- Simple SVG block showing article + valves + instrumentation -->
                <svg viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg">
                  <!-- article under test -->
                  <rect x="70" y="32" width="80" height="50" rx="8" ry="8" fill="#0f172a" stroke="#4b5563" stroke-width="2" />
                  <text x="110" y="58" text-anchor="middle" fill="#e5e7eb" font-size="10" id="svgArticleLabel">
                    Test article
                  </text>
                  <text x="110" y="72" text-anchor="middle" fill="#9ca3af" font-size="9" id="svgArticleSize">
                    ‚Äî cm¬≥ ¬∑ ‚Äî kg
                  </text>

                  <!-- supply line -->
                  <line x1="15" y1="57" x2="70" y2="57" stroke="#4fd1c5" stroke-width="2.5" stroke-dasharray="4 3" />
                  <!-- valve symbol -->
                  <line x1="35" y1="45" x2="50" y2="69" stroke="#4fd1c5" stroke-width="2" />
                  <line x1="50" y1="45" x2="35" y2="69" stroke="#4fd1c5" stroke-width="2" />

                  <!-- sensor branch -->
                  <line x1="110" y1="32" x2="110" y2="15" stroke="#22d3ee" stroke-width="2" stroke-dasharray="3 2" />
                  <circle cx="110" cy="12" r="6" fill="#020617" stroke="#22d3ee" stroke-width="1.6" />
                  <text x="110" y="11.5" text-anchor="middle" fill="#e5e7eb" font-size="7">P</text>

                  <!-- exhaust line -->
                  <line x1="150" y1="57" x2="205" y2="57" stroke="#6b7280" stroke-width="2" stroke-dasharray="4 3" />
                  <circle cx="205" cy="57" r="4.5" fill="#020617" stroke="#6b7280" stroke-width="2" />

                  <!-- labels -->
                  <text x="20" y="30" fill="#9ca3af" font-size="8">Supply</text>
                  <text x="205" y="30" text-anchor="middle" fill="#9ca3af" font-size="8">Vent</text>
                  <text x="110" y="100" text-anchor="middle" fill="#9ca3af" font-size="9" id="svgParamSummary">
                    Max ‚Äî psig ¬∑ ‚Äî cycles ¬∑ ‚Äî min dwell
                  </text>
                </svg>
              </div>
              <div class="schematic-legend">
                <p id="schematicHeadline">
                  Define your test on the left to see how we would fixture and instrument the article.
                </p>
                <div class="schematic-pill-row">
                  <div class="legend-pill" id="schematicTestType">Test type: ‚Äî</div>
                  <div class="legend-pill" id="schematicPressure">Max pressure: ‚Äî</div>
                  <div class="legend-pill" id="schematicCycles">Cycles: ‚Äî</div>
                  <div class="legend-pill" id="schematicDwell">Dwell: ‚Äî</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Report preview -->
          <div class="report-card">
            <div class="report-title">Test report & mbse export preview</div>
            <div class="report-body">
              <div class="report-meta-row">
                <span id="reportId">Report: PTS-DEMO-0001</span>
                <span id="reportArticle">Article: ‚Äî</span>
              </div>
              <p id="reportSummary">
                Configure a test to see how the narrative and verification packet might be populated for your system.
              </p>
              <table class="report-table">
                <thead>
                  <tr>
                    <th>Requirement ID</th>
                    <th>Status</th>
                    <th>Measured vs. limit</th>
                  </tr>
                </thead>
                <tbody id="reportReqBody">
                  <tr>
                    <td>REQ-LEAK-001</td>
                    <td>‚Äî</td>
                    <td>Leak rate &le; limit (placeholder)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="demo-banner">
            <div class="demo-dot"></div>
            <div>
              This page is intentionally front-end only: just enough logic to prove how
              quoting, schematic generation, and MBSE-ready exports could feel in production.
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    const fields = {
      len: document.getElementById("len"),
      wid: document.getElementById("wid"),
      ht: document.getElementById("ht"),
      mass: document.getElementById("mass"),
      fittings: document.getElementById("fittings"),
      testType: document.getElementById("testType"),
      medium: document.getElementById("medium"),
      sampleRate: document.getElementById("sampleRate"),
      standards: document.getElementById("standards"),
      maxPressure: document.getElementById("maxPressure"),
      dwell: document.getElementById("dwell"),
      cycles: document.getElementById("cycles"),
      tempRange: document.getElementById("tempRange"),
      reqIds: document.getElementById("reqIds")
    };

    const quotePrice = document.getElementById("quotePrice");
    const quoteSub = document.getElementById("quoteSub");
    const leadTimeBadge = document.getElementById("leadTimeBadge");

    const metaTest = document.getElementById("metaTest");
    const metaEnvelope = document.getElementById("metaEnvelope");
    const metaMedium = document.getElementById("metaMedium");
    const metaMass = document.getElementById("metaMass");

    const svgArticleLabel = document.getElementById("svgArticleLabel");
    const svgArticleSize = document.getElementById("svgArticleSize");
    const svgParamSummary = document.getElementById("svgParamSummary");

    const schematicHeadline = document.getElementById("schematicHeadline");
    const schematicTestType = document.getElementById("schematicTestType");
    const schematicPressure = document.getElementById("schematicPressure");
    const schematicCycles = document.getElementById("schematicCycles");
    const schematicDwell = document.getElementById("schematicDwell");

    const reportId = document.getElementById("reportId");
    const reportArticle = document.getElementById("reportArticle");
    const reportSummary = document.getElementById("reportSummary");
    const reportReqBody = document.getElementById("reportReqBody");

    function parseNum(value) {
      const n = parseFloat(value);
      return isNaN(n) ? 0 : n;
    }

    function formatMoney(value) {
      return "$" + value.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function getTestLabel(type) {
      if (type === "leak") return "Pressure decay leak test";
      if (type === "flow") return "Flow vs. ŒîP characterization";
      if (type === "thermal") return "Thermal-vac soak / cycling";
      return "None selected";
    }

    function updateQuote() {
      const len = parseNum(fields.len.value);
      const wid = parseNum(fields.wid.value);
      const ht = parseNum(fields.ht.value);
      const mass = parseNum(fields.mass.value);
      const testType = fields.testType.value;
      const sampleRate = parseNum(fields.sampleRate.value);
      const maxP = parseNum(fields.maxPressure.value);
      const dwell = parseNum(fields.dwell.value);
      const cycles = parseInt(fields.cycles.value || "0", 10);

      // Volume as a rough proxy for scale
      const volume = len * wid * ht; // cm^3
      const envelopeText =
        len && wid && ht ? `${len.toFixed(1)} √ó ${wid.toFixed(1)} √ó ${ht.toFixed(1)} cm` : "‚Äî";
      const massText = mass ? `${mass.toFixed(1)} kg` : "‚Äî";

      metaEnvelope.textContent = envelopeText;
      metaMass.textContent = massText;
      metaMedium.textContent = fields.medium.value ? fields.medium.options[fields.medium.selectedIndex].text : "‚Äî";
      metaTest.textContent = getTestLabel(testType);

      // SVG article caption
      const volumeText = volume ? `${Math.round(volume).toLocaleString()} cm¬≥` : "‚Äî cm¬≥";
      svgArticleLabel.textContent = fields.fittings.value ? "Test article + fittings" : "Test article";
      svgArticleSize.textContent = `${volumeText} ¬∑ ${massText}`;

      const cyclesText = cycles > 0 ? cycles : "‚Äî";
      const dwellText = dwell > 0 ? dwell.toFixed(1) : "‚Äî";
      const maxPText = maxP > 0 ? maxP.toFixed(0) : "‚Äî";

      svgParamSummary.textContent = `Max ${maxPText} psig ¬∑ ${cyclesText} cycles ¬∑ ${dwellText} min dwell`;
      schematicTestType.textContent = "Test type: " + getTestLabel(testType);
      schematicPressure.textContent = `Max pressure: ${maxPText || "‚Äî"} psig`;
      schematicCycles.textContent = `Cycles: ${cyclesText}`;
      schematicDwell.textContent = `Dwell: ${dwellText} min`;

      // Simple synthetic pricing model for demo
      if (!testType) {
        quotePrice.textContent = "$‚Äî";
        quoteSub.textContent = "Select a test type to see an indicative demo quote.";
        leadTimeBadge.textContent = "Lead time: ‚Äî business days";
        schematicHeadline.textContent =
          "Define your test on the left to see how we would fixture and instrument the article.";
        updateReportPreview();
        return;
      }

      let base;
      let leadDays;
      if (testType === "leak") {
        base = 750;
        leadDays = 5;
      } else if (testType === "flow") {
        base = 1100;
        leadDays = 7;
      } else {
        base = 1800;
        leadDays = 10;
      }

      // modest upcharges for complexity
      const volumeFactor = Math.min(volume / 20000, 3); // saturate
      const massFactor = Math.min(mass / 5, 3);
      const cycleFactor = Math.min(cycles / 10, 5);
      const sampleFactor = Math.min(sampleRate / 20, 3);
      const pressureFactor = Math.min(maxP / 150, 3);

      const complexity =
        1 +
        0.08 * volumeFactor +
        0.06 * massFactor +
        0.05 * cycleFactor +
        0.04 * sampleFactor +
        0.06 * pressureFactor;

      const price = base * complexity;
      quotePrice.textContent = formatMoney(price);
      quoteSub.textContent = "Illustrative all-in price for standard fixturing, execution, and engineering report.";
      leadTimeBadge.textContent = `Lead time: ${leadDays}‚Äì${leadDays + 2} business days`;

      schematicHeadline.textContent =
        "This concept view shows how the article would be plumbed into supply, instrumentation, and vent for the selected test.";

      updateReportPreview();
    }

    function updateReportPreview() {
      const testType = fields.testType.value;
      const maxP = parseNum(fields.maxPressure.value);
      const dwell = parseNum(fields.dwell.value);
      const cycles = parseInt(fields.cycles.value || "0", 10);
      const tempRange = fields.tempRange.value.trim();
      const reqIds = fields.reqIds.value.split(/[,;]+/).map(x => x.trim()).filter(Boolean);

      const len = parseNum(fields.len.value);
      const wid = parseNum(fields.wid.value);
      const ht = parseNum(fields.ht.value);
      const mass = parseNum(fields.mass.value);
      const envelope = len && wid && ht ? `${len.toFixed(1)} √ó ${wid.toFixed(1)} √ó ${ht.toFixed(1)} cm` : "unspecified";

      reportId.textContent = "Report: PTS-DEMO-" + (1000 + Math.floor(Math.random() * 900)).toString();
      reportArticle.textContent = `Article: ${envelope}, ${mass ? mass.toFixed(1) + " kg" : "mass n/a"}`;

      if (!testType) {
        reportSummary.textContent =
          "Once a test type is selected, this section will summarize the method, key conditions, and how verification results map onto your requirement IDs.";
        reportReqBody.innerHTML = `
          <tr>
            <td>REQ-LEAK-001</td>
            <td>‚Äî</td>
            <td>Leak rate &le; limit (placeholder row)</td>
          </tr>`;
        return;
      }

      const testLabel = getTestLabel(testType);
      const cyclesText = cycles > 0 ? `${cycles} cycle(s)` : "cycle count not specified";
      const dwellText = dwell > 0 ? `${dwell.toFixed(1)} min dwell` : "dwell time not specified";
      const pressureText = maxP > 0 ? `up to ${maxP.toFixed(0)} psig` : "pressure not specified";
      const tempText = tempRange ? `, ${tempRange}` : "";

      reportSummary.textContent =
        `Demonstration only: This report would document a ${testLabel.toLowerCase()} ` +
        `executed at ${pressureText}${tempText}, with ${cyclesText} and ${dwellText}. ` +
        `The exported verification packet would carry pass/fail status against each requirement ID provided.`;

      if (reqIds.length === 0) {
        reportReqBody.innerHTML = `
          <tr>
            <td>REQ-EXAMPLE-001</td>
            <td>Pending</td>
            <td>Measurement and limit mapping defined but awaiting test execution (demo).</td>
          </tr>`;
      } else {
        // Build synthetic rows for each requirement ID
        const rows = reqIds.map((id, index) => {
          const status = index % 3 === 0 ? "Passed" : index % 3 === 1 ? "Pending" : "To be defined";
          const measuredSnippet =
            testType === "leak"
              ? "Leak rate = 1.2 √ó 10‚Åª¬≥ scc/s vs. 2.0 √ó 10‚Åª¬≥ scc/s limit (demo values)."
              : testType === "flow"
              ? "Cv and flow curve within specified envelope at all test points (demo)."
              : "Temperature profile remained within allowed bounds over cycles (demo).";
          return `
            <tr>
              <td>${id}</td>
              <td>${status}</td>
              <td>${measuredSnippet}</td>
            </tr>`;
        }).join("");
        reportReqBody.innerHTML = rows;
      }
    }

    // Attach listeners
    Object.values(fields).forEach(el => {
      el.addEventListener("input", updateQuote);
      el.addEventListener("change", updateQuote);
    });

    // Initial state
    updateQuote();
  </script>
</body>
</html>
